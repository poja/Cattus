use crate::chess::chess_game::{ChessGame, ChessPosition};
use crate::game::common::{GamePosition, IGame};
use crate::game::mcts::ValueFunction;
use crate::game::net::{self, TwoHeadedNetBase};
use once_cell::sync::Lazy;

/* Copied from https://github.com/LeelaChessZero/lc0/blob/master/src/neural/network_trivial.cc */

pub struct TrivialNet {}

impl ValueFunction<ChessGame> for TrivialNet {
    fn evaluate(
        &mut self,
        position: &ChessPosition,
    ) -> (f32, Vec<(<ChessGame as IGame>::Move, f32)>) {
        let (position, is_flipped) = net::flip_pos_if_needed(*position);
        let positionf = position.get_flip();

        let b = position.get_raw_board();
        let bf = positionf.get_raw_board();

        let white = b.color_combined(chess::Color::White);
        let pawns_w = b.pieces(chess::Piece::Pawn) & white;
        let knights_w = b.pieces(chess::Piece::Knight) & white;
        let bishops_w = b.pieces(chess::Piece::Bishop) & white;
        let rooks_w = b.pieces(chess::Piece::Rook) & white;
        let queens_w = b.pieces(chess::Piece::Queen) & white;
        let kings_w = b.pieces(chess::Piece::King) & white;

        let black = bf.color_combined(chess::Color::White);
        let pawns_b = bf.pieces(chess::Piece::Pawn) & black;
        let knights_b = bf.pieces(chess::Piece::Knight) & black;
        let bishops_b = bf.pieces(chess::Piece::Bishop) & black;
        let rooks_b = bf.pieces(chess::Piece::Rook) & black;
        let queens_b = bf.pieces(chess::Piece::Queen) & black;
        let kings_b = bf.pieces(chess::Piece::King) & black;

        let mut val = 0.0;
        val += dot_product(pawns_w, PAWNS);
        val -= dot_product(pawns_b, PAWNS);
        val += dot_product(knights_w, KNIGHTS);
        val -= dot_product(knights_b, KNIGHTS);
        val += dot_product(bishops_w, BISHOPS);
        val -= dot_product(bishops_b, BISHOPS);
        val += dot_product(rooks_w, ROOKS);
        val -= dot_product(rooks_b, ROOKS);
        val += dot_product(queens_w, QUEENS);
        val -= dot_product(queens_b, QUEENS);
        let endgame = (queens_w == chess::EMPTY
            || (bishops_w == chess::EMPTY && (knights_w | bishops_w).popcnt() <= 1))
            && (queens_b == chess::EMPTY
                || (rooks_b == chess::EMPTY && (knights_b | bishops_b).popcnt() <= 1));
        if endgame {
            val += dot_product(kings_w, KINGS_ENDGAME);
            val -= dot_product(kings_b, KINGS_ENDGAME);
        } else {
            val += dot_product(kings_w, KINGS);
            val -= dot_product(kings_b, KINGS);
        }
        val = 2.0 / (1.0 + (val * -10.0).exp()) - 1.0;

        let moves_probs =
            TwoHeadedNetBase::<ChessGame>::calc_moves_probs(position.get_legal_moves(), &POLICY);

        net::flip_score_if_needed((val, moves_probs), is_flipped)
    }
}

fn dot_product(bitmap: chess::BitBoard, weights: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE]) -> f32 {
    let mut res = 0.0;
    for idx in bitmap {
        res += weights[idx.to_int() as usize];
    }
    res
}

static POLICY: Lazy<Vec<f32>> = Lazy::new(|| {vec![
    -3.27805, -2.55371, -2.46718, -2.59232, -2.74631, -2.59647, -2.47084,
    -3.65601, -2.09820, -1.43034, -3.51708, -1.26485, -2.36647, -2.94045,
    -2.40305, -2.70842, -2.52492, -2.57050, -2.48690, -2.21723, -2.35995,
    -1.97193, -1.93535, -2.93369, -2.62881, -2.61207, -2.72703, -2.71673,
    -2.52759, -2.49393, -2.22701, -2.63556, -2.12130, -1.82262, -3.50585,
    -2.87152, -1.57311, -2.45245, -2.88140, -2.58226, -2.62983, -2.85953,
    -2.63080, -3.08031, -2.13966, -2.85110, -2.12827, -3.24672, -2.85159,
    -2.67270, -2.98899, -3.06657, -2.71692, -2.68217, -2.30527, -1.55012,
    -2.70463, -2.65240, -1.78385, -2.58179, -1.94060, -2.98342, -1.57773,
    -2.49979, -2.94035, -2.23586, -2.80895, -2.83289, -2.76390, -4.54929,
    -2.25179, -2.14827, -3.16414, -3.54998, -3.06761, -3.11185, -3.34247,
    -3.05679, -2.83999, -2.23640, -2.66808, -3.11225, -2.74733, -1.83896,
    -2.95630, -1.93498, -3.40767, -1.60610, -2.95001, -3.24019, -2.87622,
    -3.88308, -3.14287, -3.82922, -2.98526, -2.76060, -2.11013, -2.55618,
    -3.16483, -2.89776, -3.00680, -3.40576, -2.92824, -1.08351, -2.18712,
    -3.40693, -3.31301, -2.08158, -2.03667, -2.36173, -1.76878, -3.00632,
    -2.05124, -2.29763, -2.66771, -3.03798, -2.47170, -2.67618, -2.86332,
    -3.16487, -2.63969, -2.14089, -2.70953, -2.94945, -2.52531, -2.31311,
    -2.39041, -2.38423, -2.79781, -2.21194, -1.83517, -2.31660, -1.19398,
    -2.70912, -2.19063, -1.67444, -2.92405, -1.89225, -3.19352, -2.53407,
    -2.78346, -2.33611, -2.86697, -4.23423, -2.88961, -2.62569, -1.95808,
    -2.29278, -2.36494, -2.33724, -2.40053, -2.56087, -2.83420, -3.53338,
    -2.18170, -2.13917, -2.04813, -2.66216, -2.12418, -0.69842, -2.65481,
    -3.79830, -2.08032, -2.71945, -2.10865, -2.59930, -2.09607, -2.59304,
    -1.96199, -2.21306, -2.00576, -2.20327, -2.30800, -2.18593, -2.14309,
    -2.43553, -3.97334, -3.46230, -1.39132, -1.53451, -2.93402, -2.16152,
    -1.20217, -3.35988, -2.23190, -2.86953, -2.25928, -2.66984, -2.10801,
    -2.55898, -1.92820, -2.37356, -1.55857, -2.03181, -2.28908, -2.17008,
    -1.79786, -2.11051, -2.25579, -2.25968, -2.21662, -1.93364, -1.75094,
    -1.66550, -2.72936, -1.64063, -1.61075, -2.86833, -1.78174, -2.57420,
    -2.09685, -2.58283, -1.92704, -2.48349, -1.69953, -2.59193, -1.76127,
    -2.01200, -2.94340, -2.38107, -3.08673, -1.99493, -2.33547, -2.10375,
    -2.35984, -2.29878, -1.96549, -1.78870, -1.65615, -2.77078, -2.80018,
    -2.27486, -1.53731, -2.04792, -3.32063, -1.71385, -2.84901, -2.34161,
    -2.99670, -2.23259, -3.02214, -1.93832, -2.77222, -1.81773, -2.68912,
    -3.35246, -2.98197, -2.77642, -2.82059, -2.61695, -2.79896, -2.40170,
    -2.51546, -2.62934, -2.31413, -2.02635, -1.92560, -2.99387, -2.57964,
    -2.24623, -2.52376, -1.91827, -3.34948, -2.56071, -1.65398, -2.16174,
    -3.18252, -2.82216, -3.51838, -2.64710, -3.88911, -2.21975, -3.90789,
    -2.14583, -3.95923, -2.95078, -2.62058, -2.57345, -3.03102, -2.59558,
    -2.61131, -2.31295, -2.28283, -2.43661, -2.33765, -2.13112, -2.71698,
    -2.17856, -2.11073, -2.33474, -2.28725, -3.00949, -2.64762, -1.04994,
    -2.69146, -2.90213, -3.23718, -2.76631, -3.25924, -2.51251, -3.72328,
    -2.33565, -2.08714, -3.21947, -2.85503, -2.63804, -2.84485, -3.52504,
    -2.55603, -2.60966, -2.76627, -2.33495, -2.05168, -2.27313, -2.22733,
    -2.38077, -2.58201, -1.68292, -2.27004, -2.34945, -3.15454, -2.29580,
    -2.00001, -2.28900, -3.42943, -3.26178, -2.78328, -3.65967, -3.76857,
    -2.82601, -2.31787, -2.18220, -2.66768, -2.23966, -2.30392, -2.29266,
    -3.16170, -2.21344, -2.27064, -2.44117, -2.36266, -1.94422, -1.93731,
    -2.12489, -2.01889, -1.51826, -2.97232, -1.76259, -2.73162, -2.50737,
    -2.17278, -3.13102, -2.52260, -2.77223, -2.61413, -2.56946, -2.58251,
    -2.45132, -2.52211, -2.31542, -1.88442, -2.20100, -2.68182, -2.46038,
    -3.37642, -1.84869, -1.97638, -2.04854, -2.16895, -2.11686, -1.75997,
    -2.36928, -1.71232, -2.30947, -2.62440, -2.89605, -3.20371, -1.87585,
    -3.72998, -2.35252, -3.22560, -2.32038, -2.96892, -2.29096, -2.57950,
    -2.06247, -2.79851, -1.75405, -1.94448, -2.01396, -2.33409, -1.49118,
    -1.63272, -1.72012, -1.75873, -1.82517, -1.88277, -1.51172, -1.95535,
    -1.63343, -2.66199, -2.63170, -2.11238, -3.26804, -2.48582, -1.96174,
    -2.38943, -1.84035, -2.43613, -1.79448, -2.44656, -1.70873, -2.23079,
    -3.07955, -2.69291, -2.12766, -2.08189, -2.07082, -2.11996, -2.29495,
    -2.34251, -2.08395, -1.99731, -1.86997, -1.72110, -2.69204, -1.74916,
    -2.03069, -2.18267, -2.32030, -2.60985, -2.09827, -2.55477, -1.83743,
    -2.57651, -1.75630, -2.52175, -3.80455, -2.50695, -3.12213, -2.78579,
    -2.55680, -2.16556, -2.33857, -2.61161, -2.53169, -2.26087, -2.60362,
    -2.39008, -2.21694, -2.07617, -1.99662, -2.42189, -2.87815, -2.15145,
    -2.29009, -3.10180, -2.87811, -2.45276, -3.09524, -2.79113, -3.00962,
    -2.39040, -3.07481, -1.97233, -2.56667, -2.98239, -4.48054, -2.51603,
    -3.68408, -2.80978, -4.02947, -2.30009, -2.18421, -2.31835, -2.93369,
    -2.46494, -2.11828, -2.10616, -2.28425, -2.31544, -2.12953, -2.09662,
    -3.37759, -2.30327, -2.55404, -1.79951, -2.90035, -3.11283, -3.39870,
    -2.44633, -2.98232, -2.80023, -2.48821, -2.88594, -2.01654, -2.82274,
    -2.03482, -2.78492, -3.26634, -3.24195, -2.72334, -2.99127, -3.19865,
    -3.04587, -2.51103, -2.31969, -2.55876, -2.55748, -2.58753, -2.47201,
    -2.15586, -2.12523, -2.40960, -2.37746, -2.45204, -2.89473, -2.60158,
    -2.42614, -2.46064, -2.34556, -3.24733, -2.44070, -2.59262, -2.49762,
    -3.37558, -3.75832, -2.48748, -3.80084, -2.19600, -3.79062, -2.04098,
    -3.40081, -3.18389, -2.68514, -3.22397, -2.92402, -2.90829, -2.52897,
    -2.13440, -2.08583, -2.84989, -2.35185, -2.54278, -2.46315, -2.01244,
    -1.96864, -2.41030, -2.47213, -2.47850, -1.83279, -2.75409, -2.39579,
    -2.91434, -2.95888, -2.45982, -2.54589, -2.72006, -3.42412, -3.10157,
    -2.77292, -3.85904, -3.18310, -2.29223, -2.19258, -2.87856, -3.52170,
    -2.38993, -4.64160, -3.25123, -3.15322, -2.15700, -1.91129, -2.05896,
    -3.87007, -2.31107, -2.38624, -2.48424, -2.48776, -1.92920, -2.00539,
    -2.58454, -2.72011, -2.08597, -2.33988, -2.38105, -3.78748, -2.94846,
    -2.81264, -3.03018, -3.92556, -3.45293, -2.77133, -3.05216, -2.55676,
    -2.84859, -2.82938, -2.03113, -2.42253, -2.85646, -2.17388, -3.81336,
    -2.56566, -1.72219, -1.79065, -2.17955, -2.09137, -2.20016, -2.20045,
    -2.41179, -2.33142, -1.68436, -2.00165, -2.40213, -1.78619, -2.97991,
    -2.03122, -2.81125, -2.70508, -2.75108, -2.93190, -2.82492, -2.93223,
    -2.89579, -2.66369, -3.09179, -1.96086, -2.33415, -2.70489, -2.09119,
    -1.74156, -1.50930, -1.71216, -1.62041, -1.75809, -1.80507, -2.00153,
    -2.09758, -2.10626, -1.47714, -1.75447, -1.44928, -2.73195, -2.70826,
    -2.44281, -2.19051, -2.65505, -2.11028, -2.54282, -1.93472, -2.45693,
    -1.74596, -2.18828, -2.47454, -2.35589, -2.49861, -2.31872, -2.37263,
    -2.17848, -2.16253, -2.49976, -2.37605, -2.41639, -2.31335, -2.25894,
    -2.49608, -2.27300, -2.19441, -1.77622, -2.08721, -2.51806, -2.67657,
    -2.87500, -2.30523, -2.55959, -1.86961, -2.64929, -2.16811, -2.43415,
    -2.77701, -2.21105, -2.18239, -2.38285, -2.10211, -2.01523, -1.90136,
    -1.96068, -1.95664, -1.99073, -2.10522, -2.22135, -2.06296, -2.18416,
    -2.01866, -1.93989, -2.16718, -1.68751, -2.05182, -2.70005, -2.14289,
    -2.19256, -2.50235, -1.96130, -2.59285, -1.86936, -2.70564, -2.43371,
    -2.98850, -2.71071, -3.27384, -2.33446, -2.88198, -2.54575, -3.56300,
    -2.35963, -2.14711, -2.40189, -2.36698, -2.25897, -2.24260, -2.02243,
    -2.33412, -2.38856, -2.52751, -2.29562, -3.00430, -2.42419, -2.58575,
    -1.73016, -2.44198, -3.69007, -3.07589, -2.42086, -2.78920, -3.15726,
    -2.19145, -3.34312, -2.14677, -2.80956, -2.92510, -2.54229, -2.64030,
    -2.71488, -3.23822, -2.48303, -2.98548, -2.42741, -2.76244, -2.19121,
    -2.15651, -2.01607, -2.65838, -2.36130, -2.53446, -2.14098, -2.16233,
    -2.40205, -2.78516, -2.52937, -2.88440, -1.83036, -2.54164, -1.68723,
    -3.03116, -2.99693, -2.60829, -2.41607, -3.37414, -2.98597, -3.04663,
    -2.39045, -2.91719, -2.14359, -2.83079, -2.96203, -2.45407, -2.96953,
    -2.58018, -2.92212, -2.37740, -2.69961, -2.49857, -2.69541, -2.05724,
    -2.00530, -1.99569, -2.69320, -2.15570, -2.45105, -2.28308, -1.95776,
    -2.01425, -2.57625, -2.58345, -2.62041, -1.66176, -2.22696, -2.04774,
    -2.95035, -2.73967, -2.66807, -2.64775, -2.73152, -3.26277, -2.57792,
    -2.34761, -3.10747, -2.71430, -2.19213, -3.38385, -2.18705, -2.92125,
    -2.70237, -2.15332, -2.88140, -3.03359, -2.45556, -2.30681, -1.91017,
    -2.36607, -3.24726, -2.05841, -2.25753, -2.29119, -2.23472, -1.88084,
    -2.05394, -2.36612, -2.49803, -2.19139, -2.28553, -2.56190, -2.83538,
    -3.06285, -2.97343, -2.69375, -3.27634, -3.95293, -3.38088, -2.66496,
    -3.65575, -2.03979, -2.48842, -1.95172, -2.38707, -2.00054, -2.07675,
    -2.65607, -1.79267, -1.73012, -1.78330, -1.99767, -1.89127, -2.07869,
    -2.11741, -2.21555, -2.20841, -1.72231, -1.86764, -2.05040, -1.61327,
    -2.07715, -1.72813, -2.77681, -2.37597, -2.60204, -2.52153, -2.52887,
    -2.56209, -2.45590, -2.00872, -2.15372, -2.04436, -2.10929, -2.16001,
    -2.18408, -1.82629, -1.59137, -1.79041, -1.74602, -1.95427, -1.93570,
    -2.06620, -2.30465, -2.22643, -1.74341, -2.34048, -1.47648, -2.00384,
    -2.61990, -2.79520, -2.33649, -2.32341, -2.28627, -2.44100, -1.89457,
    -2.04758, -2.09793, -2.17350, -2.03410, -2.20825, -2.02451, -2.03058,
    -1.95847, -1.89330, -1.97147, -2.03824, -2.17988, -2.34249, -2.15968,
    -2.23169, -2.19646, -2.08405, -1.77245, -1.60113, -2.11544, -1.84474,
    -2.43358, -2.35725, -1.90083, -2.44999, -2.10366, -2.83689, -2.19778,
    -2.35656, -3.09341, -2.25288, -2.18496, -2.49246, -2.48306, -2.10760,
    -2.43646, -2.28027, -2.05602, -2.09228, -2.31467, -2.35102, -2.36965,
    -2.28385, -2.23430, -2.80955, -2.01406, -2.05944, -2.66423, -3.36453,
    -1.96616, -2.97724, -2.56376, -1.98829, -2.87213, -2.25546, -2.23133,
    -2.34622, -2.06627, -2.45802, -2.81215, -2.35850, -2.36959, -2.10324,
    -3.05414, -2.08282, -2.12720, -1.84930, -2.49966, -2.12045, -2.09591,
    -2.12239, -2.34968, -2.50831, -2.44692, -2.36269, -2.98886, -1.93362,
    -2.09213, -1.91741, -2.79879, -2.67868, -2.87130, -2.05039, -2.80665,
    -2.62980, -2.20870, -2.70801, -2.29572, -2.79538, -2.59612, -2.37224,
    -2.40995, -2.43122, -2.66385, -2.36472, -2.38147, -2.33425, -3.11712,
    -2.10967, -2.03662, -2.03923, -2.63280, -2.25739, -2.22740, -2.07232,
    -2.02925, -2.49691, -2.61640, -2.45189, -3.06772, -2.01314, -2.09911,
    -2.10208, -2.60957, -2.65398, -3.01437, -2.23397, -2.79582, -2.93628,
    -2.76973, -2.25740, -2.77257, -2.69414, -2.22957, -2.51010, -2.35899,
    -2.71161, -2.36220, -2.59277, -2.30781, -2.76481, -2.40330, -2.95625,
    -1.98644, -2.05878, -2.09858, -3.31837, -2.09829, -2.32696, -2.26766,
    -1.99927, -2.11274, -2.48006, -2.56481, -2.72063, -2.04023, -2.19388,
    -1.94067, -3.56758, -2.81211, -2.85422, -2.23250, -3.82901, -2.88714,
    -2.95403, -2.30589, -2.81081, -2.50157, -2.01331, -2.31846, -2.08757,
    -2.24877, -2.20436, -2.19524, -2.44630, -2.53404, -2.41221, -1.78045,
    -1.86100, -1.95456, -2.91479, -1.90417, -2.04239, -2.17665, -2.14768,
    -1.80827, -1.87976, -2.09031, -2.42031, -1.81085, -1.79782, -1.86047,
    -2.76310, -2.57748, -2.66853, -2.33193, -3.13747, -2.80059, -2.46372,
    -2.06273, -3.13628, -1.86735, -2.68757, -2.06358, -2.42925, -2.06488,
    -2.17551, -2.91779, -2.19911, -2.16090, -1.85600, -2.09475, -1.81766,
    -1.90589, -2.00586, -2.22196, -2.14874, -1.72591, -1.71773, -2.65898,
    -1.85318, -1.77443, -2.45163, -2.54152, -3.17261, -2.24711, -3.59329,
    -2.71727, -2.04273, -2.44538, -1.96606, -2.19677, -2.10418, -2.19514,
    -1.91936, -2.34775, -1.77923, -1.95359, -1.94258, -1.77794, -1.87704,
    -1.99098, -2.17642, -2.29225, -2.37089, -1.87244, -2.12701, -1.75107,
    -1.67364, -2.81174, -2.69765, -2.23031, -2.44985, -2.00851, -2.11672,
    -2.03517, -2.14776, -1.96397, -2.28422, -1.96835, -2.19551, -1.42431,
    -2.16588, -1.91686, -1.82988, -1.40790, -2.10013, -2.27586, -2.36663,
    -2.47849, -2.38244, -2.31331, -1.97177, -1.54729, -1.92420, -1.74783,
    -2.03165, -2.27844, -2.52088, -2.14359, -2.03773, -2.19033, -1.97465,
    -2.29625, -1.98357, -2.30993, -2.22969, -1.83153, -2.06495, -1.95874,
    -1.94909, -1.85345, -2.04891, -1.95348, -2.03582, -2.27380, -2.58700,
    -2.39653, -2.33205, -2.09450, -2.16998, -1.61820, -1.95539, -2.26379,
    -3.03213, -2.07728, -2.51776, -2.47519, -2.29791, -2.34987, -2.24506,
    -2.10877, -2.35250, -2.04200, -2.34712, -2.54766, -2.33497, -2.03394,
    -2.21075, -2.75461, -1.96144, -2.07166, -1.89114, -2.23968, -2.04990,
    -2.05186, -2.11099, -2.53494, -2.53646, -2.40433, -2.15578, -2.96947,
    -2.03372, -1.74629, -2.09146, -2.44340, -2.63727, -3.22198, -2.24365,
    -2.80178, -2.54007, -2.27926, -2.29653, -2.42813, -2.36442, -2.41354,
    -2.23481, -2.37359, -2.35228, -2.30055, -2.27875, -2.29771, -2.71068,
    -1.91342, -2.06465, -1.89668, -2.51739, -2.12320, -2.14759, -2.01413,
    -2.15683, -2.53451, -2.55102, -2.19632, -2.72338, -2.03579, -1.81866,
    -2.08212, -2.96693, -2.76705, -2.86854, -2.27029, -2.85617, -2.81300,
    -2.09222, -2.28959, -2.10792, -2.19547, -2.19424, -2.24168, -2.13982,
    -2.07873, -2.19986, -2.01142, -2.34383, -2.17709, -1.74786, -1.86743,
    -1.78310, -2.36384, -1.96474, -2.15577, -2.20774, -1.83719, -1.91188,
    -2.25855, -2.15191, -2.42236, -1.97486, -1.68240, -1.84782, -2.60395,
    -2.46040, -2.64373, -2.16081, -2.56212, -2.65208, -2.39016, -1.96899,
    -2.37672, -1.98351, -2.11495, -2.16868, -2.13437, -1.98334, -2.19722,
    -2.22096, -2.40551, -2.06782, -1.76509, -1.87992, -1.82811, -2.27810,
    -1.97049, -2.12135, -2.23576, -2.21375, -1.87601, -1.84173, -1.99004,
    -2.26579, -1.92204, -1.53696, -1.94886, -2.44900, -2.42089, -2.35997,
    -2.14107, -2.86418, -2.62388, -2.29501, -1.82484, -2.15865, -1.95074,
    -2.07764, -2.09247, -2.14312, -1.78663, -2.28377, -2.24162, -1.87493,
    -1.73979, -1.76333, -1.81149, -1.85047, -1.96739, -2.04565, -2.17483,
    -2.11464, -1.74922, -1.71497, -2.12079, -1.84692, -1.47210, -2.05774,
    -2.39308, -2.39104, -2.02159, -2.80460, -2.61564, -1.90047, -2.33373,
    -2.00211, -2.09685, -2.16511, -2.26695, -1.58998, -2.13473, -1.70681,
    -1.85100, -1.77046, -1.68764, -1.81053, -1.92529, -2.04866, -2.17788,
    -2.15314, -1.87239, -1.95897, -2.00624, -1.45804, -2.81546, -2.43162,
    -2.00752, -2.21081, -1.69523, -2.27725, -1.66769, -2.35110, -1.66064,
    -2.28703, -1.80589, -2.22687, -1.33695, -2.02242, -1.90671, -1.77027,
    -1.59172, -2.10972, -2.31081, -2.43459, -2.47780, -2.53299, -2.40122,
    -2.10230, -2.04187, -1.85619, -1.97726, -2.29052, -2.21670, -2.38972,
    -1.89230, -2.39340, -1.84567, -2.54204, -2.07184, -1.91261, -2.36088,
    -1.44757, -2.22705, -1.93230, -2.04882, -1.85666, -1.72142, -2.04852,
    -2.18148, -2.47233, -2.57103, -2.66228, -2.36146, -2.10443, -2.17253,
    -2.14498, -2.13797, -2.20457, -2.37645, -2.42756, -2.22670, -2.44680,
    -2.06698, -2.49345, -2.06786, -2.23341, -1.95126, -2.39432, -1.68125,
    -2.15135, -2.40909, -1.85258, -2.04602, -1.86844, -2.05475, -2.06725,
    -2.01961, -2.19149, -2.48149, -2.65855, -2.45480, -2.19928, -2.50001,
    -2.09398, -2.13474, -2.05691, -2.40477, -2.35070, -2.38167, -2.37739,
    -2.11717, -2.05558, -2.42946, -2.07644, -2.05003, -1.76712, -2.37327,
    -1.71331, -2.13889, -2.12451, -1.72115, -1.99994, -1.78942, -2.02653,
    -2.01901, -2.08600, -2.01737, -2.15539, -2.50478, -2.43162, -2.14439,
    -2.68323, -1.82002, -2.02668, -1.80627, -2.23072, -2.21415, -2.24463,
    -2.15904, -2.24000, -2.15755, -2.37529, -2.03020, -2.18104, -1.83134,
    -2.28310, -1.80883, -2.13150, -1.90072, -1.74498, -1.93361, -1.76177,
    -2.26838, -2.01060, -2.07943, -2.16495, -1.98597, -2.04789, -2.32455,
    -2.22731, -2.35536, -1.86481, -1.95994, -1.94230, -2.89104, -1.96322,
    -2.08665, -2.06367, -2.05313, -2.15806, -1.96075, -2.20531, -2.07987,
    -1.55964, -2.29668, -1.76706, -2.08963, -1.79572, -1.70844, -1.77588,
    -1.68404, -2.03263, -1.90899, -2.07456, -2.22453, -2.23994, -1.87902,
    -1.84461, -2.06319, -2.12513, -1.90459, -1.87878, -2.01137, -2.64095,
    -1.95214, -1.95016, -1.92596, -2.03448, -1.81453, -2.15834, -1.80823,
    -2.28257, -1.95188, -1.40515, -2.21123, -1.68100, -1.78388, -1.56169,
    -1.68899, -1.58597, -1.82104, -1.98177, -2.11101, -2.21825, -2.16944,
    -1.79568, -1.70052, -2.12545, -1.76546, -1.88302, -1.88185, -1.81223,
    -1.97519, -1.80843, -2.01822, -1.72436, -2.16737, -1.79040, -2.17144,
    -1.97642, -1.08338, -2.09722, -1.55166, -1.58894, -1.67195, -1.79258,
    -1.91590, -2.07872, -2.17675, -2.22306, -2.34160, -1.85982, -1.92394,
    -1.67892, -1.81541, -1.97390, -1.62706, -2.00251, -1.44317, -2.06995,
    -1.47269, -2.00043, -1.57277, -1.98441, -1.65323, -1.94968, -1.32563,
    -1.76913, -1.54770, -1.45107, -1.55195, -1.94615, -2.22312, -2.17876,
    -2.18266, -2.22343, -2.20101, -2.17880, -1.82719, -1.91612, -1.71975,
    -2.01348, -1.67986, -2.00790, -1.66986, -2.02330, -1.73576, -1.26400,
    -1.92733, -1.09162, -1.92195, -1.52879, -1.53502, -1.49707, -1.27697,
    -1.89492, -1.85442, -2.12911, -2.16070, -2.14918, -2.17024, -2.14222,
    -1.98419, -1.95113, -2.03801, -1.68961, -2.05959, -1.87573, -2.10187,
    -1.75431, -1.99309, -1.43739, -2.07272, -1.32327, -2.06925, -1.72851,
    -1.46024, -1.58201, -1.53596, -1.51227, -2.09855, -1.84421, -1.86674,
    -2.12931, -2.21361, -2.19483, -2.15773, -2.01178, -2.02010, -2.02189,
    -2.00588, -1.78924, -1.92400, -2.19067, -1.89411, -1.97522, -1.36829,
    -2.15518, -1.42762, -2.11017, -1.71658, -1.56530, -1.66244, -1.64796,
    -1.65544, -2.08416, -2.15704, -1.86680, -1.85526, -2.18876, -2.25134,
    -2.19230, -1.91536, -1.92085, -1.93780, -1.89535, -1.95840, -1.81512,
    -2.05763, -1.73630, -1.93331, -1.37147, -2.23705, -1.34394, -1.88755,
    -1.63986, -1.61512, -1.73315, -1.64673, -1.87312, -2.06245, -2.13445,
    -2.11927, -1.79248, -1.81999, -2.19646, -2.14435, -1.60343, -1.66710,
    -1.72212, -1.75136, -1.70293, -1.82036, -1.65613, -1.91504, -1.79989,
    -1.34902, -2.02918, -1.33355, -1.85791, -1.47304, -1.39559, -1.51913,
    -1.52185, -1.86153, -1.90207, -1.93224, -1.95073, -1.90642, -1.60040,
    -1.60577, -1.98155, -1.60383, -1.71976, -1.72190, -1.69195, -1.80138,
    -1.56773, -1.93684, -1.55984, -1.98119, -1.75877, -1.03839, -1.99725,
    -1.13111, -1.28862, -1.39230, -1.59500, -1.42287, -1.83753, -1.92297,
    -1.94480, -1.87559, -1.89891, -1.51436, -1.51757, -1.61669, -1.77426,
    -1.58805, -1.80870, -1.50397, -1.82487, -1.47130, -1.86784, -1.50498,
    -1.93723, -1.76847, -1.10059, -2.00065, -1.24889, -1.42306, -1.55937,
    -1.85574, -1.93160, -1.96405, -1.91510, -1.99475, -2.03417, -1.63940,
    -1.46124, -2.51354, -3.05328, -0.23796, -1.09853, -1.69816, -0.88060,
    -2.59322, -2.72630, -1.39634, -2.47534, -2.93509, -0.40550, -1.30283,
    -2.31982, -0.32459, -1.27121, -2.06339, -1.59923, -2.71933, -3.21009,
    -0.09426, -1.33884, -1.94104, -0.13521, -1.30427, -2.12129, -1.50089,
    -2.55270, -2.85786, -0.05611, -0.82796, -2.33907, -0.21596, -1.13357,
    -1.38835, -1.29421, -2.32614, -2.77775, -0.70767, -1.27214, -2.37027,
    -0.26273, -0.95609, -1.41015, -1.10089, -2.11966, -2.40177, -0.35224,
    -1.20165, -1.40952, -0.0,     -0.65666, -1.98171, -1.05692, -2.01931,
    -2.43228, -0.0,     -2.29416, -3.49818, -0.46989, -1.00615, -1.49424,
    -1.23419, -2.09375, -2.43350, -0.0,     -0.0,     -0.0,     -0.0,
    -0.0,     -0.0,     -0.0,     -0.0,     -0.0,     -0.0,     -0.0,
    -0.0,     -0.0,     -0.0,     -0.0,     -0.0,     -0.0,     -0.0,
    -0.0,     -0.0,     -0.0,     -0.0
]});

static PAWNS: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    -0.00000, -0.00000, -0.00000, -0.00000, 0.00000,  -0.00000, 0.00000,
    -0.00000, 0.06662,  0.09583,  0.06643,  0.05536,  0.02236,  0.04939,
    0.09071,  0.09352,  0.08847,  0.08068,  0.07738,  0.05534,  0.06063,
    0.06393,  0.08791,  0.09560,  0.07608,  0.08692,  0.06337,  0.07179,
    0.07750,  0.07100,  0.08159,  0.08283,  0.14966,  0.09968,  0.10335,
    0.10362,  0.08502,  0.11313,  0.08158,  0.10561,  0.13946,  0.12644,
    0.12511,  0.11497,  0.13403,  0.09999,  0.12569,  0.14075,  0.16155,
    0.12969,  0.16869,  0.17744,  0.17258,  0.19959,  0.14792,  0.15976,
    0.00000,  -0.00000, 0.00000,  0.00000,  -0.00000, -0.00000, -0.00000,
    -0.00000
];

static KNIGHTS: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    0.12549, 0.05358, 0.06001, 0.08798, 0.09084, 0.07007, 0.05983,
    0.07110, 0.03532, 0.08703, 0.13308, 0.07691, 0.11283, 0.06292,
    0.08848, 0.05982, 0.07493, 0.10743, 0.10747, 0.12312, 0.11972,
    0.10002, 0.07905, 0.06539, 0.12239, 0.14532, 0.08843, 0.12103,
    0.10833, 0.13367, 0.09003, 0.07247, 0.12163, 0.16514, 0.15197,
    0.11901, 0.14494, 0.13974, 0.12081, 0.10957, 0.10746, 0.11014,
    0.15582, 0.22478, 0.15931, 0.15341, 0.11198, 0.07076, 0.16764,
    0.14658, 0.20785, 0.12558, 0.10667, 0.19004, 0.07353, 0.14162,
    0.03220, 0.06356, 0.13316, 0.12845, 0.14233, 0.19931, 0.07425,
    0.20774,
];

static BISHOPS: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    0.08299, 0.11050, 0.11387, 0.12347, 0.13993, 0.10414, 0.18594,
    0.06085, 0.10235, 0.15733, 0.13970, 0.13631, 0.10189, 0.17399,
    0.14002, 0.10948, 0.14439, 0.13286, 0.15316, 0.13379, 0.13762,
    0.13907, 0.11989, 0.12127, 0.15578, 0.13964, 0.16643, 0.14614,
    0.12861, 0.15553, 0.16397, 0.09271, 0.18553, 0.14091, 0.18698,
    0.15018, 0.15590, 0.12655, 0.14573, 0.10276, 0.19904, 0.15973,
    0.13077, 0.14071, 0.15390, 0.11180, 0.10273, 0.19621, 0.14963,
    0.14949, 0.12911, 0.11972, 0.17507, 0.14455, 0.10058, 0.11797,
    0.15988, 0.14084, 0.15436, 0.24262, 0.12838, 0.15251, 0.10853,
    0.14240,
];

static ROOKS: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    0.19343, 0.22010, 0.19814, 0.20439, 0.20660, 0.20584, 0.19275,
    0.20042, 0.18159, 0.19006, 0.19286, 0.19677, 0.22751, 0.22487,
    0.19256, 0.16757, 0.19102, 0.23716, 0.21167, 0.19747, 0.23355,
    0.21321, 0.17478, 0.17279, 0.15728, 0.16795, 0.26422, 0.22453,
    0.24422, 0.21715, 0.19039, 0.24305, 0.18434, 0.25995, 0.25855,
    0.24373, 0.25450, 0.23517, 0.20909, 0.22781, 0.19181, 0.26571,
    0.26481, 0.21262, 0.25547, 0.22559, 0.22430, 0.23066, 0.28646,
    0.25282, 0.25758, 0.21276, 0.25720, 0.26076, 0.25661, 0.24443,
    0.23237, 0.21318, 0.23230, 0.19967, 0.21947, 0.22544, 0.23956,
    0.21579,
];

static QUEENS: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    0.23063, 0.23157, 0.25371, 0.27579, 0.27878, 0.23600, 0.29552,
    0.29963, 0.27729, 0.29837, 0.29026, 0.25105, 0.27772, 0.28502,
    0.29344, 0.24009, 0.29366, 0.28859, 0.27538, 0.27713, 0.26159,
    0.28383, 0.28749, 0.24996, 0.35152, 0.26595, 0.26428, 0.30264,
    0.29376, 0.29841, 0.27352, 0.29242, 0.30948, 0.30742, 0.30822,
    0.31232, 0.31701, 0.28862, 0.28218, 0.29562, 0.30423, 0.33840,
    0.29070, 0.29734, 0.25349, 0.27276, 0.24977, 0.27319, 0.27835,
    0.35061, 0.33633, 0.29402, 0.32144, 0.33461, 0.29777, 0.28501,
    0.31223, 0.33044, 0.33788, 0.26788, 0.29851, 0.28789, 0.31030,
    0.28824,
];

static KINGS: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    0.02852,  0.00453,  -0.05309, -0.02416, -0.14581, -0.01472, -0.02206,
    0.02207,  0.03712,  0.02324,  -0.02501, -0.06653, -0.07605, -0.01135,
    0.03666,  -0.02999, 0.00700,  -0.02668, -0.06998, -0.02305, -0.03816,
    -0.00129, -0.08264, 0.01139,  -0.08866, -0.01720, -0.03161, -0.03092,
    -0.01507, 0.00172,  -0.03457, 0.02657,  -0.00569, 0.00000,  0.00341,
    -0.00108, -0.01445, -0.02948, -0.00883, 0.00954,  0.01116,  -0.01762,
    0.01088,  -0.00005, -0.00275, 0.00038,  0.00219,  0.01970,  0.00000,
    -0.00024, -0.01798, -0.00339, -0.00226, 0.00842,  0.03543,  -0.00122,
    -0.00000, 0.00532,  -0.00000, 0.00002,  0.00138,  0.00571,  -0.00078,
    0.00145,
];

static KINGS_ENDGAME: [f32; ChessGame::BOARD_SIZE * ChessGame::BOARD_SIZE] = [
    -0.03908, -0.02837, -0.02194, -0.03649, -0.04754, -0.03390, -0.03172,
    0.02852,  -0.02071, -0.01429, -0.02296, -0.01087, -0.02774, -0.01505,
    -0.00469, -0.03894, -0.03979, 0.02244,  -0.00705, -0.01847, -0.00316,
    -0.04952, 0.01103,  -0.00487, 0.01769,  0.01299,  0.03068,  -0.01422,
    -0.00579, -0.01817, 0.01946,  -0.01716, 0.04860,  0.01099,  0.05517,
    0.06880,  0.00036,  0.03165,  0.07524,  -0.00409, 0.01840,  0.04146,
    0.04435,  0.09172,  0.08918,  0.03642,  0.04095,  0.00081,  0.07254,
    0.03901,  0.07186,  0.06869,  0.05215,  0.00621,  0.02240,  -0.00463,
    -0.01242, -0.02068, 0.01925,  0.03103,  0.02797,  -0.02299, -0.01944,
    -0.04503
];
